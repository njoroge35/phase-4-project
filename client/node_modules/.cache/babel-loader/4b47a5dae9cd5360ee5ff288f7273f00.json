{"ast":null,"code":"import axios from 'axios';\nimport { GET_BOOKS } from './index';\nconst token = localStorage.getItem('token');\n\nconst getBooks = () => dispatch => {\n  axios.get('https://bookstore-rails-api.herokuapp.com/api/v1/books', {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).then(response => {\n    if (response.data.message === 'No books found') {\n      dispatch({\n        type: 'NO_BOOKS'\n      });\n    } else {\n      dispatch(GET_BOOKS(response.data.data));\n    }\n  });\n};\n\nexport default getBooks;","map":{"version":3,"sources":["/home/njoroge/react-bookstore/src/actions/getBooks.js"],"names":["axios","GET_BOOKS","token","localStorage","getItem","getBooks","dispatch","get","headers","Authorization","then","response","data","message","type"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,SAA1B;AAEA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;;AAEA,MAAMC,QAAQ,GAAG,MAAMC,QAAQ,IAAI;AACjCN,EAAAA,KAAK,CAACO,GAAN,CAAU,wDAAV,EACE;AACEC,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAG,UAASP,KAAM;AADxB;AADX,GADF,EAKKQ,IALL,CAKUC,QAAQ,IAAI;AACpB,QAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAd,KAA0B,gBAA9B,EAAgD;AAC9CP,MAAAA,QAAQ,CAAC;AACPQ,QAAAA,IAAI,EAAE;AADC,OAAD,CAAR;AAGD,KAJD,MAIO;AACLR,MAAAA,QAAQ,CAACL,SAAS,CAACU,QAAQ,CAACC,IAAT,CAAcA,IAAf,CAAV,CAAR;AACD;AACF,GAbD;AAcD,CAfD;;AAiBA,eAAeP,QAAf","sourcesContent":["import axios from 'axios';\nimport { GET_BOOKS } from './index';\n\nconst token = localStorage.getItem('token');\n\nconst getBooks = () => dispatch => {\n  axios.get('https://bookstore-rails-api.herokuapp.com/api/v1/books',\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }).then(response => {\n    if (response.data.message === 'No books found') {\n      dispatch({\n        type: 'NO_BOOKS',\n      });\n    } else {\n      dispatch(GET_BOOKS(response.data.data));\n    }\n  });\n};\n\nexport default getBooks;\n"]},"metadata":{},"sourceType":"module"}